import {useState,useEffect,useRef} from 'react'
import useAxiosPrivate from '../hooks/useAxiosPrivate'
import {useNavigate,useLocation} from 'react-router-dom'
import axios from 'axios'

const Users = () => {
  const [users,setUsers] = useState()
  const axiosPrivate = useAxiosPrivate()
  const navigate = useNavigate()
  const location = useLocation()
  
  useEffect(() => {
    const controller = new AbortController()
 
    axios.get('http://172.18.176.1:5003/users',{
      signal:controller.signal
    })
    .then(res => setUsers(res))
    .catch(err => console.log(err))
  },[])

  return(
    <article> 
      <h2>Users List</h2>
      { users?.length
	  ? (
              <ul>
                { users.map((user,index) => {
                    <li key={index}>
                      {user?.username}
		    </li>
		  })
		}
	      </ul>
	  ) : (<p>No users to display</p>)
      }
    </article>
  )
}

export default Users
